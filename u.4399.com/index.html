<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    
    <button id="trigger">trigger</button>
    
    
    <script type="text/template" id="securityTmpl">
        <div class="u-dialog dialog-security">
            <a href="javascript:;" class="dialog-close"></a>
            <% if(userInfo){ %>
                <div class="dialog-tit">安全验证</div>
                <div class="dialog-sub">为了您的账号安全，请先验证密保后再完善身份信息</div>
                <% if(userInfo.phone){ %>
                <div class="dialog-cont">
                    <div class="dialog-txt">您绑定的手机号：<span id="j-binded-phone"><%=userInfo.phone.data%></span></div>
                    <form class="u-form" name="phone" action="">
                        <div class="invalid-feedback"></div>
                        <div class="form-group form-group-horizen">
                            <label class="form-label" for="">手机号</label>
                            <input class="form-control" type="text" value="" name="phone">
                        </div>
                        <div class="form-group form-group-horizen form-group-verifycode">
                            <label class="form-label" for="">验证码</label>
                            <input class="form-control" type="text" value="" name="code">
                            <a href="javascript:;" class="verifycode disable" isCounting="false">获取验证码</a>
                        </div>
                        <div class="form-group-btn">
                            <button type="button" class="btn btn-primary disable j-submit">提交</button>
                        </div>
                    </form>
                </div>
                <% }else{ %>
                <div class="dialog-cont">
                    <div class="u-tab">
                        <ul class="tab-hd">
                            <%var index = 0;for(var key in userInfo){%>
                            <li data-type="<%=key%>" <%if(index==0){%>class="cur"<%}%>><span>
                                <%=userInfo[key].name%>
                            </span></li>
                            <%;index += 1;}%>
                        </ul>
                        <div class="tab-bd">
                            <%var index = 0;for(var key in userInfo){%>
                            <div class="tab-cont" <%if(index==0){%>style="display:block;"<%}%>>
                                <%var _data = userInfo[key].data;%>
                                <%if(key=="question"){%>
                                <form class="u-form" name="<%=key%>">
                                    <div class="invalid-feedback"></div>
                                    <%for(var q = 0;q < _data.length;q++){%>
                                    <div class="form-group form-group-vertical">
                                        <label class="form-label" for=""><%=_data[q][0]%></label>
                                        <input name="question<%=q+1%>" type="hidden" value="<%=_data[q][0]%>">
                                        <input class="form-control" name="answer<%=q+1%>" type="text" value="" data-reg="<%=_data[q][1]%>" data-errormsg="<%=_data[q][2]%>">
                                    </div>
                                    <%}%>
                                    <div class="form-group-btn">
                                        <button type="button" class="btn btn-primary j-submit">提交</button>
                                    </div>
                                </form>
                                <%}%>
                                <%if(key=="email"){%>
                                <div class="dialog-txt">我们将向您的邮箱（<span><%=userInfo[key].data%></span>）发送一封验证邮件，验证链接30分钟内有效，发送成功后请尽快前往验证。</div>
                                <form class="u-form" name="<%=key%>">
                                    <div class="invalid-feedback"></div>
                                    <div class="form-group-btn">
                                        <button type="button" class="btn btn-primary j-send">发送验证邮件</button>
                                    </div>
                                </form>
                                <%}%>
                                <%if(key=="qq"){%>
                                <div class="dialog-txt">我们将向您的QQ邮箱（<span><%=userInfo[key].data%></span>）发送一封验证邮件，验证链接30分钟内有效，发送成功后请尽快前往验证。</div>
                                <form class="u-form" name="<%=key%>">
                                    <div class="invalid-feedback"></div>
                                    <div class="form-group-btn">
                                        <button type="button" class="btn btn-primary j-send">发送验证邮件</button>
                                    </div>
                                </form>
                                <%}%>
                            </div>
                            <%;index += 1;}%>
                        </div>
                    </div>
                </div>
                <% } %>
            <% }else{ %>
            <div class="dialog-tit">绑定手机号</div>
            <div class="dialog-sub">为了您的账号安全，请先绑定手机后再完善身份信息</div>
            <div class="dialog-cont">
                <form class="u-form" name="bind" action="">
                    <div class="form-group form-group-horizen">
                        <label class="form-label" for="">手机号</label>
                        <input class="form-control" type="text" value="" name="phone">
                        <div class="invalid-feedback"></div>
                    </div>
                    <div class="form-group form-group-horizen form-group-verifycode">
                        <label class="form-label" for="">验证码</label>
                        <input class="form-control" type="text" value="" name="verify">
                        <a href="javascript:;" class="verifycode disable" isCounting="false">获取验证码</a>
                        <div class="invalid-feedback"></div>
                    </div>
                    <div class="form-group-btn">
                        <button type="button" class="btn btn-primary disable">提交</button>
                    </div>
                </form>
            </div>
            <div class="dialog-layer">
                <div class="dialog-layout-vertical-center">
                    <a href="javascript:;" class="layer-close"></a>
                    <div class="dialog-layout-vertical-center-inner">
                        <div class="dialog-tit">手机验证码已达到发送上限</div>
                        <div class="dialog-sub">编辑短信<span>709411</span>发送到<span>1069 1189 4399 1</span>即可成功
                            <br>绑定。（此短信免费）</div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <% } %>
    </script>
    <script src="./js/jquery.min.1.7.2.js"></script>
    <script src="./js/baiduTemplate.js"></script>
    <script src="./js/ks.dialog.js"></script>
    <script src="./mock/mock-min.js"></script>
    <script src="./mock/mock.js"></script>
    <script src="./js/main.js"></script>
</body>
</html>